@page "/Modsmanager"
@using System.Net;
@using System.Net.Http
@using System.IO
@using System.Threading.Tasks
@using eoj12.DCS.Toolkit.Data;
<h1>DCS World Mod Manager</h1>
<ModsDataGrid Mods="Mods" ShowScanMode="true" ShowLocalModeButton="true"></ModsDataGrid>
@code {
    RadzenDataGrid<Mod> modsGrid;
    private bool IsLoading = false;
    private bool IsReady = false;
    private string Url = "https://drive.google.com/uc?id=1AEDTUYVP9Zj0EEeEyjKBsLyLeifNQgr4&export=download";
    List<Mod> Mods = null;

    private ModManagerService modManagerService = new ModManagerService();
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        try
        {
            await Task.Run(() => Mods = modManagerService.LocalDb.CopyMods());
            IsReady = true;

        }
        catch (Exception ex)
        {
            throw;
        }

    }
   


}